{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Webex Webhook Documentation","text":"<p>Welcome to the Shadow Agent for Webex documentation. This guide provides details about the different webhook payloads sent from Webex.</p>"},{"location":"payload/","title":"Payloads","text":"<p>This section describes the available payload types and their meaning in the system. Each payload provides a different stream of information, depending on the integration and purpose.</p>"},{"location":"payload/#telephony","title":"telephony","text":"<p>Provides real-time telephony details such as active calls, call status changes, and immediate call-related events.</p>"},{"location":"payload/#webex-cdr","title":"webex-cdr","text":"<p>Delivers Webex Call Detail Records (CDR) feed, including call history, duration, participants, and quality metrics for reporting and analytics.</p>"},{"location":"payload/#user-presence","title":"user-presence","text":"<p>Tracks user presence and status message updates, reflecting availability (e.g., <code>Available</code>, <code>Busy</code>, <code>Away</code>) and custom status messages.</p>"},{"location":"payload/#queue-monitor","title":"queue-monitor","text":"<p>Reports queue presence information, showing agent membership and activity within call queues (active/inactive states).</p>"},{"location":"webhooks/cdr/","title":"CDR","text":"<p>This webhook provides the raw CDR feed from the Webex API. It will be sent every 5 minutes if anything exists; if not, no data will be passed.</p>"},{"location":"webhooks/cdr/#sample-payload","title":"Sample Payload","text":"<pre><code>{\n  \"body\": {\n    \"payload\": \"webex-cdr\",\n    \"items\": [\n      {\n        \"Answer time\": \"\",\n        \"Answered\": \"false\",\n        \"Direction\": \"ORIGINATING\",\n        \"Called line ID\": \"NA\",\n        \"Call ID\": \"SSE164953585150825-1351543787@10.250.194.97\",\n        \"Calling line ID\": \"NA\",\n        \"Start time\": \"2025-08-15T16:49:53.576Z\",\n        \"Call type\": \"SIP_NATIONAL\",\n        \"Client type\": \"TEAMS_WXC_CLIENT\",\n        \"Client version\": \"45.8.0.32875\",\n        \"Correlation ID\": \"3e8d11ca-7965-4eba-b961-dd7a419649ab\",\n        \"International country\": \"\",\n        \"Device MAC\": \"\",\n        \"Duration\": 0,\n        \"Inbound trunk\": \"\",\n        \"Org UUID\": \"171117d6-8b82-44ca-98e9-ac1157f2cd1d\",\n        \"Original reason\": \"\",\n        \"OS type\": \"windows\",\n        \"Outbound trunk\": \"\",\n        \"Redirect reason\": \"\",\n        \"Related reason\": \"\",\n        \"Report ID\": \"399a6e2c-169a-3262-93b3-49feb903d4fd\",\n        \"Report time\": \"2025-08-15T16:50:01.772Z\",\n        \"Route group\": \"\",\n        \"Site main number\": \"+12895133484\",\n        \"Site timezone\": \"-240\",\n        \"Sub client type\": \"\",\n        \"User UUID\": \"a808befa-9138-461c-b9af-392c784e0c1a\",\n        \"User type\": \"User\",\n        \"User\": \"Pouya Shahrdami\",\n        \"Called number\": \"+19059227700\",\n        \"Calling number\": \"+12895133483\",\n        \"Location\": \"RSI\",\n        \"Dialed digits\": \"+19059227700\",\n        \"Releasing party\": \"Local\",\n        \"Redirecting number\": \"\",\n        \"Site UUID\": \"419f6d68-a080-47dc-99df-38fa40223406\",\n        \"Department ID\": \"\",\n        \"Transfer related call ID\": \"\",\n        \"Authorization code\": \"\",\n        \"Model\": \"\",\n        \"Local SessionID\": \"9dea6285012050008000178cc521a001\",\n        \"Remote SessionID\": \"\",\n        \"Call transfer time\": \"\",\n        \"Local call ID\": \"9850472912:0\",\n        \"Remote call ID\": \"\",\n        \"Network call ID\": \"BW1649536451508251171865576@10.71.220.6\",\n        \"Related call ID\": \"\",\n        \"User number\": \"+12895133483\",\n        \"Call outcome\": \"Success\",\n        \"Call outcome reason\": \"Normal\",\n        \"Ring duration\": \"8\",\n        \"Answer indicator\": \"No\",\n        \"Release time\": \"2025-08-15T16:50:01.772Z\",\n        \"Final local SessionID\": \"9dea6285012050008000178cc521a001\",\n        \"Final remote SessionID\": \"\",\n        \"PSTN legal entity\": \"Cisco Systems Canada Co\",\n        \"PSTN vendor org ID\": \"0b43a1a8-2efd-4892-b301-e7a5a6d2c884\",\n        \"PSTN vendor name\": \"Cisco Calling Plans\",\n        \"PSTN provider ID\": \"00414f37-267d-40eb-9355-2c1876c202a1\",\n        \"External customer ID\": \"\",\n        \"Redirecting party UUID\": \"\",\n        \"Public Calling IP Address\": \"NA\",\n        \"Public Called IP Address\": \"NA\",\n        \"Caller ID number\": \"+12895133483\",\n        \"External caller ID number\": \"+12895133483\",\n        \"Device owner UUID\": \"\",\n        \"Call Recording Platform Name\": \"\",\n        \"Call Recording Result\": \"\",\n        \"Call Recording Trigger\": \"\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"webhooks/queue_monitor/","title":"Queue Monitor","text":"<p>This webhook will check the queue status and show the status of the queue if changes happen.</p> <p>This webhook monitors queue status and reports any changes.</p>"},{"location":"webhooks/queue_monitor/#it-can-display-more-than-one-queue-status-at-a-time","title":"It can display more than one queue status at a time.","text":""},{"location":"webhooks/queue_monitor/#it-can-also-show-multiple-users-queue-statuses-if-they-trigger-updates-simultaneously","title":"It can also show multiple users\u2019 queue statuses if they trigger updates simultaneously.","text":""},{"location":"webhooks/queue_monitor/#sample-payload","title":"Sample Payload","text":"<pre><code>{\n  \"payload\": \"queue-monitor\",\n  \"timestamp\": \"2025-07-23T18:53:26.298Z\",\n  \"items\": {\n    \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9a...\": {\n      // user id\n      \"Y2lzY29zcGFyazovL3VzL0NBTExfUVVFVUUvNm...\": \"active\" // queue id\n    }\n  }\n}\n</code></pre>"},{"location":"webhooks/telephony/","title":"Telephony","text":"<p>This webhook provides real-time telephony details. It's raw data coming from Webex, and a normal call contains 3 stages: <code>created</code>, <code>updated</code>, and <code>deleted</code> by their events.</p>"},{"location":"webhooks/telephony/#sample-payload","title":"Sample Payload","text":"<pre><code>[\n  {\n    \"body\": {\n      \"Payload\": \"telephony\",\n      \"timestamp\": \"2025-08-14T18:53:03.419Z\",\n      \"items\": {\n        \"id\": \"Y2lzY29zcGFyazovL3VzL1dFQkhPT0svN2QyMTBjMjUtYWJmZi00MjAxLWE0OGMtMjI3ZDRkNWY3OTI1\",\n        \"name\": \"WebexSAPROD\",\n        \"targetUrl\": \"https://f8c2wc8446.execute-api.us-east-1.amazonaws.com/telephony\",\n        \"resource\": \"telephony_calls\",\n        \"event\": \"updated\",\n        \"orgId\": \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\",\n        \"createdBy\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS84OWYwOGUyYi02MDM4LTQ3MmMtYjcyYy0zNjQyNjIwMThjNjE\",\n        \"appId\": \"Y2lzY29zcGFyazovL3VzL0FQUExJQ0FUSU9OL0MzZjU0MjYwYTQyMjhjY2NlNWY4YjM3NDVlYjYzMDA0MDYzYjVlZTgzOWRlNDE4YjMyOGFkMGMxZTA5MjAzYzgx\",\n        \"ownedBy\": \"creator\",\n        \"status\": \"active\",\n        \"created\": \"2025-06-30T20:13:25.614Z\",\n        \"actorId\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS84OWYwOGUyYi02MDM4LTQ3MmMtYjcyYy0zNjQyNjIwMThjNjE\",\n        \"data\": {\n          \"eventType\": \"updated\",\n          \"eventTimestamp\": \"2025-08-14T18:52:41.730Z\",\n          \"callId\": \"Y2lzY29zcGFyazovL3VzL0NBTEwvY2FsbGhhbGYtOTgyNzEzMjM3MDow\",\n          \"callSessionId\": \"MWFmMDFjNTQtOTdlMS00ODA3LWEzZjgtMTY2ODNiNjFhNjQw\",\n          \"personality\": \"terminator\",\n          \"state\": \"alerting\",\n          \"muteCapable\": false,\n          \"muted\": false,\n          \"remoteParty\": {\n            \"name\": \"CQX Q1  -  POUYA SHAHRDAMI\",\n            \"number\": \"+19059227700\",\n            \"privacyEnabled\": false,\n            \"callType\": \"external\"\n          },\n          \"appearance\": 1,\n          \"created\": \"2025-08-14T18:52:41.728Z\",\n          \"redirections\": [\n            {\n              \"reason\": \"callQueue\",\n              \"redirectingParty\": {\n                \"name\": \"CQX Q1\",\n                \"number\": \"+12895133479\",\n                \"privacyEnabled\": false,\n                \"callType\": \"location\"\n              }\n            }\n          ],\n          \"completedElsewhere\": false\n        }\n      },\n      \"orgId\": \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\"\n    },\n    \"method\": \"POST\",\n    \"url\": \"/webhook\"\n  },\n  {\n    \"body\": {\n      \"Payload\": \"telephony\",\n      \"timestamp\": \"2025-08-14T18:53:02.738Z\",\n      \"items\": {\n        \"id\": \"Y2lzY29zcGFyazovL3VzL1dFQkhPT0svN2QyMTBjMjUtYWJmZi00MjAxLWE0OGMtMjI3ZDRkNWY3OTI1\",\n        \"name\": \"WebexSAPROD\",\n        \"targetUrl\": \"https://f8c2wc8446.execute-api.us-east-1.amazonaws.com/telephony\",\n        \"resource\": \"telephony_calls\",\n        \"event\": \"created\",\n        \"orgId\": \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\",\n        \"createdBy\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS84OWYwOGUyYi02MDM4LTQ3MmMtYjcyYy0zNjQyNjIwMThjNjE\",\n        \"appId\": \"Y2lzY29zcGFyazovL3VzL0FQUExJQ0FUSU9OL0MzZjU0MjYwYTQyMjhjY2NlNWY4YjM3NDVlYjYzMDA0MDYzYjVlZTgzOWRlNDE4YjMyOGFkMGMxZTA5MjAzYzgx\",\n        \"ownedBy\": \"creator\",\n        \"status\": \"active\",\n        \"created\": \"2025-06-30T20:13:25.614Z\",\n        \"actorId\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS84OWYwOGUyYi02MDM4LTQ3MmMtYjcyYy0zNjQyNjIwMThjNjE\",\n        \"data\": {\n          \"eventType\": \"received\",\n          \"eventTimestamp\": \"2025-08-14T18:52:41.729Z\",\n          \"callId\": \"Y2lzY29zcGFyazovL3VzL0NBTEwvY2FsbGhhbGYtOTgyNzEzMjM3MDow\",\n          \"callSessionId\": \"MWFmMDFjNTQtOTdlMS00ODA3LWEzZjgtMTY2ODNiNjFhNjQw\",\n          \"personality\": \"terminator\",\n          \"state\": \"alerting\",\n          \"muteCapable\": false,\n          \"muted\": false,\n          \"remoteParty\": {\n            \"name\": \"CQX Q1  -  POUYA SHAHRDAMI\",\n            \"number\": \"+19059227700\",\n            \"privacyEnabled\": false,\n            \"callType\": \"external\"\n          },\n          \"appearance\": 1,\n          \"created\": \"2025-08-14T18:52:41.728Z\",\n          \"redirections\": [\n            {\n              \"reason\": \"callQueue\",\n              \"redirectingParty\": {\n                \"name\": \"CQX Q1\",\n                \"number\": \"+12895133479\",\n                \"privacyEnabled\": false,\n                \"callType\": \"location\"\n              }\n            }\n          ],\n          \"completedElsewhere\": false\n        }\n      },\n      \"orgId\": \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\"\n    },\n    \"method\": \"POST\",\n    \"url\": \"/webhook\"\n  }\n  {\n    \"body\": {\n      \"Payload\": \"telephony\",\n      \"timestamp\": \"2025-08-14T18:53:04.091Z\",\n      \"items\": {\n        \"id\": \"Y2lzY29zcGFyazovL3VzL1dFQkhPT0svN2QyMTBjMjUtYWJmZi00MjAxLWE0OGMtMjI3ZDRkNWY3OTI1\",\n        \"name\": \"WebexSAPROD\",\n        \"targetUrl\": \"https://f8c2wc8446.execute-api.us-east-1.amazonaws.com/telephony\",\n        \"resource\": \"telephony_calls\",\n        \"event\": \"deleted\",\n        \"orgId\": \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\",\n        \"createdBy\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS84OWYwOGUyYi02MDM4LTQ3MmMtYjcyYy0zNjQyNjIwMThjNjE\",\n        \"appId\": \"Y2lzY29zcGFyazovL3VzL0FQUExJQ0FUSU9OL0MzZjU0MjYwYTQyMjhjY2NlNWY4YjM3NDVlYjYzMDA0MDYzYjVlZTgzOWRlNDE4YjMyOGFkMGMxZTA5MjAzYzgx\",\n        \"ownedBy\": \"creator\",\n        \"status\": \"active\",\n        \"created\": \"2025-06-30T20:13:25.614Z\",\n        \"actorId\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS84OWYwOGUyYi02MDM4LTQ3MmMtYjcyYy0zNjQyNjIwMThjNjE\",\n        \"data\": {\n          \"eventType\": \"disconnected\",\n          \"eventTimestamp\": \"2025-08-14T18:52:43.357Z\",\n          \"callId\": \"Y2lzY29zcGFyazovL3VzL0NBTEwvY2FsbGhhbGYtOTgyNzEzMjM3MDow\",\n          \"callSessionId\": \"MWFmMDFjNTQtOTdlMS00ODA3LWEzZjgtMTY2ODNiNjFhNjQw\",\n          \"personality\": \"terminator\",\n          \"state\": \"disconnected\",\n          \"muteCapable\": false,\n          \"muted\": false,\n          \"remoteParty\": {\n            \"name\": \"POUYA SHAHRDAMI\",\n            \"number\": \"+19059227700\",\n            \"privacyEnabled\": false,\n            \"callType\": \"external\"\n          },\n          \"created\": \"2025-08-14T18:52:41.728Z\",\n          \"disconnected\": \"2025-08-14T18:52:43.357Z\",\n          \"completedElsewhere\": true\n        }\n      },\n      \"orgId\": \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\"\n    },\n    \"method\": \"POST\",\n    \"url\": \"/webhook\"\n  }\n]\n</code></pre>"},{"location":"webhooks/user_presence/","title":"User Presence","text":"<p>This webhook will be checking the status every 3 seconds. Depending on the user status and status message, it will send data. If no changes happen, no data will be sent.</p>"},{"location":"webhooks/user_presence/#sample-payloads","title":"Sample Payloads","text":""},{"location":"webhooks/user_presence/#do-not-disturb","title":"Do Not Disturb","text":"<pre><code>{\n  \"body\": {\n    \"payload\": \"user-presence\",\n    \"items\": [\n      {\n        \"id\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9hODA4YmVmYS05MTM4LTQ2MWMtYjlhZi0zOTJjNzg0ZTBjMWE\",\n        \"status\": \"DoNotDisturb\",\n        \"statusMessage\": \"test update dnd 2\",\n        \"lastActivity\": \"2025-08-15T16:42:27.199Z\",\n        \"lastModified\": \"2025-06-05T13:24:42.790Z\"\n      }\n    ],\n    \"orgId\": \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\",\n    \"timestamp\": \"2025-08-15T16:42:29.315Z\"\n  },\n  \"method\": \"POST\",\n  \"url\": \"/webhook\"\n}\n</code></pre>"},{"location":"webhooks/user_presence/#active","title":"Active","text":"<pre><code>{\n  \"body\": {\n    \"payload\": \"user-presence\",\n    \"items\": [\n      {\n        \"id\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9hODA4YmVmYS05MTM4LTQ2MWMtYjlhZi0zOTJjNzg0ZTBjMWE\",\n        \"status\": \"active\",\n        \"statusMessage\": \"test update 2\",\n        \"lastActivity\": \"2025-08-15T16:42:36.772Z\",\n        \"lastModified\": \"2025-06-05T13:24:42.790Z\"\n      }\n    ],\n    \"orgId\": \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\",\n    \"timestamp\": \"2025-08-15T16:42:40.184Z\"\n  },\n  \"method\": \"POST\",\n  \"url\": \"/webhook\"\n}\n</code></pre>"},{"location":"webhooks/user_presence/#unknown","title":"Unknown","text":"<pre><code>{\n  \"body\": {\n    \"payload\": \"user-presence\",\n    \"items\": [\n      {\n        \"id\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9hODA4YmVmYS05MTM4LTQ2MWMtYjlhZi0zOTJjNzg0ZTBjMWE\",\n        \"status\": \"unknown\",\n        \"statusMessage\": \"Busy\",\n        \"lastActivity\": \"2025-08-15T16:43:04.836Z\",\n        \"lastModified\": \"2025-06-05T13:24:42.790Z\"\n      }\n    ],\n    \"orgId\": \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\",\n    \"timestamp\": \"2025-08-15T16:43:06.295Z\"\n  },\n  \"method\": \"POST\",\n  \"url\": \"/webhook\"\n}\n</code></pre>"},{"location":"webhooks/user_presence/#away-out-of-office","title":"Away | Out of Office","text":"<pre><code>{\n  \"body\": {\n    \"payload\": \"user-presence\",\n    \"items\": [\n      {\n        \"id\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9hODA4YmVmYS05MTM4LTQ2MWMtYjlhZi0zOTJjNzg0ZTBjMWE\",\n        \"status\": \"OutOfOffice\",\n        \"statusMessage\": \"Out of office\",\n        \"lastActivity\": \"2025-08-15T16:43:19.636Z\",\n        \"lastModified\": \"2025-06-05T13:24:42.790Z\"\n      }\n    ],\n    \"orgId\": \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\",\n    \"timestamp\": \"2025-08-15T16:48:06.602Z\"\n  },\n  \"method\": \"POST\",\n  \"url\": \"/webhook\"\n}\n</code></pre>"},{"location":"webhooks/user_presence/#on-call","title":"On Call","text":"<pre><code>{\n  \"body\": {\n    \"payload\": \"user-presence\",\n    \"items\": [\n      {\n        \"id\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9hODA4YmVmYS05MTM4LTQ2MWMtYjlhZi0zOTJjNzg0ZTBjMWE\",\n        \"status\": \"call\",\n        \"statusMessage\": \"\",\n        \"lastActivity\": \"2025-08-15T16:49:53.758Z\",\n        \"lastModified\": \"2025-06-05T13:24:42.790Z\"\n      }\n    ],\n    \"orgId\": \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\",\n    \"timestamp\": \"2025-08-15T16:49:57.123Z\"\n  },\n  \"method\": \"POST\",\n  \"url\": \"/webhook\"\n}\n</code></pre>"}]}