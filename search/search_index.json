{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to Shadow Agent for Webex","text":"<p>Real-time monitoring and webhook integration for Webex services.</p> <p>This documentation provides a comprehensive guide to understanding and utilizing the Shadow Agent for Webex.</p>"},{"location":"Api_Documentation/statusmessage/","title":"Status Message API Documentation","text":""},{"location":"Api_Documentation/statusmessage/#overview","title":"Overview","text":"<p>This API endpoint allows you to update status messages for different user statuses. It stores status messages for later use when users change their status, acting as a \"memory\" system for status messages.</p> <p>Important Note: This endpoint only updates the stored message for a specific status type. It does NOT change the user's current active status.</p>"},{"location":"Api_Documentation/statusmessage/#endpoint","title":"Endpoint","text":"<pre><code>POST /status-message\n</code></pre>"},{"location":"Api_Documentation/statusmessage/#authentication","title":"Authentication","text":"<p>This endpoint requires proper authorization headers. The user's <code>orgId</code> and <code>userId</code> will be extracted from the authorization context.</p>"},{"location":"Api_Documentation/statusmessage/#request-format","title":"Request Format","text":""},{"location":"Api_Documentation/statusmessage/#headers","title":"Headers","text":"<pre><code>Content-Type: application/json\nAuthorization: [Your authorization token]\n</code></pre>"},{"location":"Api_Documentation/statusmessage/#request-body","title":"Request Body","text":"<pre><code>{\n  \"status\": \"avl\",\n  \"statusMessage\": \"Available for urgent matters only\"\n}\n</code></pre>"},{"location":"Api_Documentation/statusmessage/#parameters","title":"Parameters","text":"Parameter Type Required Description <code>status</code> string Yes The status type for which to store the message <code>statusMessage</code> string Yes The message to associate with this status"},{"location":"Api_Documentation/statusmessage/#allowed-status-values","title":"Allowed Status Values","text":"<p>The following status values are accepted:</p> <pre><code>[\"avl\", \"dnd\", \"busy\", \"oof\"];\n</code></pre> Status Description <code>avl</code> Available <code>dnd</code> Do Not Disturb <code>busy</code> Busy <code>oof</code> Out of Office"},{"location":"Api_Documentation/statusmessage/#response-format","title":"Response Format","text":""},{"location":"Api_Documentation/statusmessage/#success-response-200","title":"Success Response (200)","text":"<pre><code>{\n  \"message\": \"Status updated successfully\",\n  \"userId\": \"user123\",\n  \"status\": \"avl\",\n  \"statusMessage\": \"Available for urgent matters only\"\n}\n</code></pre>"},{"location":"Api_Documentation/statusmessage/#status-unchanged-response-200","title":"Status Unchanged Response (200)","text":"<pre><code>{\n  \"message\": \"Status message for 'avl' unchanged\",\n  \"userId\": \"user123\",\n  \"status\": \"avl\",\n  \"statusMessage\": \"Available for urgent matters only\"\n}\n</code></pre>"},{"location":"Api_Documentation/statusmessage/#error-responses","title":"Error Responses","text":""},{"location":"Api_Documentation/statusmessage/#missing-status-message-400","title":"Missing Status Message (400)","text":"<pre><code>{\n  \"message\": \"Status is required\",\n  \"error\": \"MISSING_STATUS\"\n}\n</code></pre>"},{"location":"Api_Documentation/statusmessage/#invalid-status-400","title":"Invalid Status (400)","text":"<pre><code>{\n  \"message\": \"Valid status is required\",\n  \"validStatuses\": [\"avl\", \"dnd\", \"busy\", \"oof\"],\n  \"receivedStatus\": \"invalid_status\"\n}\n</code></pre>"},{"location":"Api_Documentation/statusmessage/#invalid-json-400","title":"Invalid JSON (400)","text":"<pre><code>{\n  \"message\": \"Invalid JSON in request body\",\n  \"error\": \"INVALID_JSON\"\n}\n</code></pre>"},{"location":"Api_Documentation/statusmessage/#server-error-500","title":"Server Error (500)","text":"<pre><code>{\n  \"message\": \"Internal Server Error\",\n  \"error\": \"INTERNAL_ERROR\"\n}\n</code></pre>"},{"location":"Api_Documentation/statusmessage/#important-notes","title":"Important Notes","text":"<ol> <li> <p>Duplicate Prevention: If the same status message is sent for a status that already has that exact message, no update occurs and a \"unchanged\" response is returned.</p> </li> <li> <p>Trimming: Status messages are automatically trimmed of leading/trailing whitespace.</p> </li> <li> <p>Timestamps: When a status message is updated, the following timestamps are automatically set:</p> </li> <li><code>lastSMChanged</code></li> <li><code>lastActivity</code></li> <li><code>lastModified</code></li> </ol>"},{"location":"webhooks/queue_presence/","title":"Queue Monitor Events","text":""},{"location":"webhooks/queue_presence/#purpose","title":"Purpose","text":"<p>This webhook provides real-time notifications when an agent joins or leaves a queue in Webex.</p>"},{"location":"webhooks/queue_presence/#endpoint","title":"Endpoint","text":"<p>The system sends HTTP POST requests to the configured webhook URL.</p> <ul> <li>Content-Type: <code>application/json</code></li> <li>Header: <code>x-org-id: &lt;Organization ID&gt;</code></li> </ul>"},{"location":"webhooks/queue_presence/#payload-structure","title":"Payload Structure","text":"<p>The payload contains the following fields:</p> <ul> <li><code>payload</code>: A static identifier, always set to <code>queue-monitor</code>.</li> <li><code>timestamp</code>: The ISO 8601 UTC timestamp indicating when the event was generated.</li> <li><code>items</code>: An object containing the users and their queue status changes.</li> </ul>"},{"location":"webhooks/queue_presence/#items-object","title":"Items Object","text":"<ul> <li><code>userId</code> (string): The ID of the agent.</li> <li><code>queueId</code> (string): The ID of the queue.</li> <li><code>status</code> (string): The agent's new status in the queue. Can be either <code>'active'</code> or <code>'inactive'</code>.</li> </ul>"},{"location":"webhooks/queue_presence/#field-descriptions","title":"Field Descriptions","text":"Field Type Description <code>payload</code> <code>string</code> Always <code>\"queue-monitor\"</code> \u2014 indicates the event type. <code>timestamp</code> <code>string</code> UTC timestamp of when the event was generated. <code>items</code> <code>object</code> A map of <code>userId</code> to their queue changes."},{"location":"webhooks/queue_presence/#received-payload-examples","title":"Received Payload Examples","text":""},{"location":"webhooks/queue_presence/#agent-joins-a-queue","title":"Agent Joins a Queue","text":"<pre><code>{\n  \"payload\": \"queue-monitor\",\n  \"timestamp\": \"2025-07-23T18:53:26.298Z\",\n  \"items\": {\n    \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9a...\": {\n      \"Y2lzY29zcGFyazovL3VzL0NBTExfUVVFVUUvNm...\": \"active\"\n    }\n  }\n}\n</code></pre>"},{"location":"webhooks/queue_presence/#agent-leaves-a-queue","title":"Agent Leaves a Queue","text":"<pre><code>{\n  \"payload\": \"queue-monitor\",\n  \"timestamp\": \"2025-07-23T19:02:11.551Z\",\n  \"items\": {\n    \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9a...\": {\n      \"Y2lzY29zcGFyazovL3VzL0NBTExfUVVFVUUvNT...\": \"inactive\"\n    }\n  }\n}\n</code></pre>"},{"location":"webhooks/queue_presence/#multiple-agents-in-one-payload","title":"Multiple Agents in One Payload","text":"<p>If changes for multiple users happen simultaneously, they can appear in the same payload:</p> <pre><code>{\n  \"payload\": \"queue-monitor\",\n  \"timestamp\": \"2025-07-23T19:05:00.000Z\",\n  \"items\": {\n    \"&lt;userId1&gt;\": {\n      \"&lt;queueId&gt;\": \"active\"\n    },\n    \"&lt;userId2&gt;\": {\n      \"&lt;queueId&gt;\": \"inactive\"\n    }\n  }\n}\n</code></pre> <p>Note: If no changes are detected during a polling cycle, no webhook will be sent.</p>"},{"location":"webhooks/user_presence/","title":"Webex Presence Webhook Integration Guide","text":""},{"location":"webhooks/user_presence/#overview","title":"Overview","text":"<p>The webhook sends a POST request to a pre-configured URL whenever a change in user presence is detected. This allows external services to stay synchronized with Webex user statuses.</p>"},{"location":"webhooks/user_presence/#payload-format","title":"Payload Format","text":"<p>The webhook payload is sent as a JSON object in the body of the POST request.</p>"},{"location":"webhooks/user_presence/#headers","title":"Headers","text":"<p>The following HTTP headers are included in the request:</p> Header Description <code>Content-Type</code> <code>application/json</code> <code>x-org-id</code> The ID of the Webex organization."},{"location":"webhooks/user_presence/#body","title":"Body","text":"<p>The body of the request contains the presence information.</p> <p>Example Body:</p> <pre><code>{\n  \"payload\": \"user-presence\",\n  \"items\": [\n    {\n      \"id\": \"abc123\",\n      \"emails\": [\"john@example.com\"],\n      \"sipAddresses\": [\n        {\n          \"type\": \"cloud\",\n          \"value\": \"sip:john@example.com\",\n          \"primary\": true\n        }\n      ],\n      \"displayName\": \"John Doe\",\n      \"nickName\": \"Johnny\",\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\",\n      \"orgId\": \"org-12345\",\n      \"status\": \"active\",\n      \"lastModified\": \"2025-06-30T10:05:00Z\",\n      \"lastActivity\": \"2025-06-30T10:10:00Z\",\n      \"type\": \"person\",\n      \"department\": \"Engineering\"\n    }\n  ]\n}\n</code></pre>"},{"location":"webhooks/user_presence/#body-field-descriptions","title":"Body Field Descriptions","text":"Field Type Description <code>payload</code> <code>string</code> Always <code>user-presence</code> for this webhook. <code>items</code> <code>array</code> A list of user presence objects that have changed. <code>id</code> <code>string</code> <code>emails</code> <code>array</code> <code>sipAddresses</code> <code>array</code> <code>displayName</code> <code>string</code> <code>nickName</code> <code>string</code> <code>firstName</code> <code>string</code> <code>lastName</code> <code>string</code> <code>orgId</code> <code>string</code> The ID of the organization the user belongs to. <code>status</code> <code>string</code> The user's presence status (e.g., <code>active</code>, <code>inactive</code>, <code>DoNotDisturb</code>). <code>lastModified</code> <code>string</code> The timestamp of the last modification to the user's profile. <code>lastActivity</code> <code>string</code> The timestamp of the user's last activity. <code>type</code> <code>string</code> The type of object, typically <code>person</code>. <code>department</code> <code>string</code>"},{"location":"webhooks/user_presence/#update-frequency","title":"Update Frequency","text":"<ul> <li>The webhook is triggered approximately every 2 seconds.</li> <li>A notification is sent only if there has been a change in any user's presence since the last successful update.</li> <li>The change detection mechanism relies on a combination of Webex APIs and a diffing process against a DynamoDB database that stores the last known presence states.</li> </ul>"},{"location":"webhooks/calls/Unanswered/","title":"Unanswered Call","text":"<p>This hook is triggered when a call is not answered by an agent.</p>"},{"location":"webhooks/calls/Unanswered/#example-payload","title":"Example Payload","text":"<pre><code>{\n  \"TalkTime\": 0,\n  \"CallDir\": \"inbound\",\n  \"TotalDuration\": 0,\n  \"RingTime\": 0,\n  \"Answered\": false,\n  \"Events\": [\n    {\n      \"data\": {\n        \"callId\": \"Y2lzY29zcGFyazovL3VzL0NBTEwvY2FsbGhhbGYtOTYwNjk0ODQwODow\",\n        \"appearance\": 1,\n        \"personality\": \"terminator\",\n        \"created\": \"2025-08-05T17:47:22.677Z\",\n        \"remoteParty\": {\n          \"name\": \"POUYA SHAHRDAMI\",\n          \"privacyEnabled\": false,\n          \"number\": \"+19059227700\",\n          \"callType\": \"external\"\n        },\n        \"muteCapable\": false,\n        \"eventType\": \"received\",\n        \"state\": \"alerting\",\n        \"callSessionId\": \"ZjhkMmY3MGQtMzgwZS00NDAxLWE0OTEtMGM2OGYwODk4OTE5\",\n        \"muted\": false,\n        \"eventTimestamp\": \"2025-08-05T17:47:22.678Z\",\n        \"completedElsewhere\": false\n      },\n      \"resource\": \"telephony_calls\",\n      \"created\": \"2025-07-01T13:31:06.813Z\",\n      \"orgId\": \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\",\n      \"actorId\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9hODA4YmVmYS05MTM4LTQ2MWMtYjlhZi0zOTJjNzg0ZTBjMWE\",\n      \"createdBy\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9hODA4YmVmYS05MTM4LTQ2MWMtYjlhZi0zOTJjNzg0ZTBjMWE\",\n      \"appId\": \"Y2lzY29zcGFyazovL3VzL0FQUExJQ0FUSU9OL0MzZjU0MjYwYTQyMjhjY2NlNWY4YjM3NDVlYjYzMDA0MDYzYjVlZTgzOWRlNDE4YjMyOGFkMGMxZTA5MjAzYzgx\",\n      \"name\": \"WebexSAPROD\",\n      \"id\": \"Y2lzY29zcGFyazovL3VzL1dFQkhPT0svYTkzZDliMTItM2YyNC00YzM1LTljYWYtMjFmMjMzZGUyMzNj\",\n      \"event\": \"created\",\n      \"targetUrl\": \"https://f8c2wc8446.execute-api.us-east-1.amazonaws.com/telephony\",\n      \"ownedBy\": \"creator\",\n      \"status\": \"active\"\n    },\n    {\n      \"data\": {\n        \"callId\": \"Y2lzY29zcGFyazovL3VzL0NBTEwvY2FsbGhhbGYtOTYwNjk0ODQwODow\",\n        \"endpointType\": \"APPLICATION\",\n        \"created\": \"2025-08-05T17:47:22.677Z\",\n        \"endpointId\": \"Y2lzY29zcGFyazovL3VzL0FQUExJQ0FUSU9OLzAzNWVlYTFlLTY4ZmEtNDkyNS1iNWM2LWM2MzUwZmUwMzA3OA\",\n        \"eventType\": \"updated\",\n        \"callSessionId\": \"ZjhkMmY3MGQtMzgwZS00NDAxLWE0OTEtMGM2OGYwODk4OTE5\",\n        \"completedElsewhere\": false,\n        \"appearance\": 1,\n        \"personality\": \"terminator\",\n        \"remoteParty\": {\n          \"name\": \"POUYA SHAHRDAMI\",\n          \"privacyEnabled\": false,\n          \"number\": \"+19059227700\",\n          \"callType\": \"external\"\n        },\n        \"muteCapable\": false,\n        \"state\": \"alerting\",\n        \"muted\": false,\n        \"eventTimestamp\": \"2025-08-05T17:47:22.678Z\"\n      },\n      \"resource\": \"telephony_calls\",\n      \"created\": \"2025-07-01T13:31:06.813Z\",\n      \"orgId\": \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\",\n      \"actorId\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9hODA4YmVmYS05MTM4LTQ2MWMtYjlhZi0zOTJjNzg0ZTBjMWE\",\n      \"createdBy\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9hODA4YmVmYS05MTM4LTQ2MWMtYjlhZi0zOTJjNzg0ZTBjMWE\",\n      \"appId\": \"Y2lzY29zcGFyazovL3VzL0FQUExJQ0FUSU9OL0MzZjU0MjYwYTQyMjhjY2NlNWY4YjM3NDVlYjYzMDA0MDYzYjVlZTgzOWRlNDE4YjMyOGFkMGMxZTA5MjAzYzgx\",\n      \"name\": \"WebexSAPROD\",\n      \"id\": \"Y2lzY29zcGFyazovL3VzL1dFQkhPT0svYTkzZDliMTItM2YyNC00YzM1LTljYWYtMjFmMjMzZGUyMzNj\",\n      \"event\": \"updated\",\n      \"targetUrl\": \"https://f8c2wc8446.execute-api.us-east-1.amazonaws.com/telephony\",\n      \"ownedBy\": \"creator\",\n      \"status\": \"active\"\n    }\n  ],\n  \"Dead\": false,\n  \"QueueCall\": false,\n  \"SortKey\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9hODA4YmVmYS05MTM4LTQ2MWMtYjlhZi0zOTJjNzg0ZTBjMWE#ZjhkMmY3MGQtMzgwZS00NDAxLWE0OTEtMGM2OGYwODk4OTE5\",\n  \"CallType\": \"external\",\n  \"CallStatus\": \"alerting\",\n  \"PartnerNumber\": \"+19059227700\",\n  \"Partner\": \"POUYA SHAHRDAMI\",\n  \"Queue\": \"\",\n  \"CallVersion\": 1,\n  \"DidRing\": true,\n  \"PartitionKey\": \"HookCalls#Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\",\n  \"DateCreated\": \"2025-08-05T17:47:22.678Z\"\n}\n</code></pre>"},{"location":"webhooks/calls/Unanswered/#flow","title":"Flow","text":"<ol> <li>Call enters the queue.</li> <li>No agent becomes available within the timeout period.</li> <li>The call is terminated.</li> <li>The <code>unanswered_call</code> hook is triggered.</li> </ol>"},{"location":"webhooks/calls/abandoned_queue_call/","title":"Abandoned Queue Call","text":"<p>This hook is triggered when a call is abandoned from the queue.</p>"},{"location":"webhooks/calls/abandoned_queue_call/#example-payload","title":"Example Payload","text":"<pre><code>{\n  \"TalkTime\": 0,\n  \"CallDir\": \"inbound\",\n  \"TotalDuration\": 2239,\n  \"RingTime\": 2239,\n  \"Answered\": false,\n  \"Events\": [\n    {\n      \"data\": {\n        \"callId\": \"Y2lzY29zcGFyazovL3VzL0NBTEwvY2FsbGhhbGYtOTYwNjg4MjIxNjow\",\n        \"created\": \"2025-08-05T17:44:52.284Z\",\n        \"eventType\": \"received\",\n        \"callSessionId\": \"ZWM1NmY0MDUtODU3My00MDkzLThkOTAtMjY2OWZmMjRjM2Iz\",\n        \"completedElsewhere\": false,\n        \"redirections\": [\n          {\n            \"reason\": \"callQueue\",\n            \"redirectingParty\": {\n              \"name\": \"CQX Q1\",\n              \"privacyEnabled\": false,\n              \"number\": \"+12895133479\",\n              \"id\": \"Y2lzY29zcGFyazovL3VzL1VOS05PV04vNmRhZjY5MGQtYmMzNi00OTM3LWI4NWQtMmJmMGZjN2YzMWRi\",\n              \"idType\": \"UNKNOWN\",\n              \"callType\": \"location\"\n            }\n          }\n        ],\n        \"appearance\": 1,\n        \"personality\": \"terminator\",\n        \"remoteParty\": {\n          \"name\": \"CQX Q1  -  POUYA SHAHRDAMI\",\n          \"privacyEnabled\": false,\n          \"number\": \"+19059227700\",\n          \"callType\": \"external\"\n        },\n        \"muteCapable\": false,\n        \"state\": \"alerting\",\n        \"muted\": false,\n        \"eventTimestamp\": \"2025-08-05T17:44:52.285Z\"\n      },\n      \"resource\": \"telephony_calls\",\n      \"created\": \"2025-06-30T20:13:25.614Z\",\n      \"orgId\": \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\",\n      \"actorId\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS84OWYwOGUyYi02MDM4LTQ3MmMtYjcyYy0zNjQyNjIwMThjNjE\",\n      \"createdBy\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS84OWYwOGUyYi02MDM4LTQ3MmMtYjcyYy0zNjQyNjIwMThjNjE\",\n      \"appId\": \"Y2lzY29zcGFyazovL3VzL0FQUExJQ0FUSU9OL0MzZjU0MjYwYTQyMjhjY2NlNWY4YjM3NDVlYjYzMDA0MDYzYjVlZTgzOWRlNDE4YjMyOGFkMGMxZTA5MjAzYzgx\",\n      \"name\": \"WebexSAPROD\",\n      \"id\": \"Y2lzY29zcGFyazovL3VzL1dFQkhPT0svN2QyMTBjMjUtYWJmZi00MjAxLWE0OGMtMjI3ZDRkNWY3OTI1\",\n      \"event\": \"created\",\n      \"targetUrl\": \"https://f8c2wc8446.execute-api.us-east-1.amazonaws.com/telephony\",\n      \"ownedBy\": \"creator\",\n      \"status\": \"active\"\n    },\n    {\n      \"data\": {\n        \"callId\": \"Y2lzY29zcGFyazovL3VzL0NBTEwvY2FsbGhhbGYtOTYwNjg4MjIxNjow\",\n        \"endpointType\": \"APPLICATION\",\n        \"created\": \"2025-08-05T17:44:52.284Z\",\n        \"endpointId\": \"Y2lzY29zcGFyazovL3VzL0FQUExJQ0FUSU9OL2QyZmM1NDZkLTYxYzMtNDkwNC04YzFmLWY2ZTIzNTlhYzU3Yg\",\n        \"eventType\": \"updated\",\n        \"callSessionId\": \"ZWM1NmY0MDUtODU3My00MDkzLThkOTAtMjY2OWZmMjRjM2Iz\",\n        \"completedElsewhere\": false,\n        \"redirections\": [\n          {\n            \"reason\": \"callQueue\",\n            \"redirectingParty\": {\n              \"name\": \"CQX Q1\",\n              \"privacyEnabled\": false,\n              \"number\": \"+12895133479\",\n              \"id\": \"Y2lzY29zcGFyazovL3VzL1VOS05PV04vNmRhZjY5MGQtYmMzNi00OTM3LWI4NWQtMmJmMGZjN2YzMWRi\",\n              \"idType\": \"UNKNOWN\",\n              \"callType\": \"location\"\n            }\n          }\n        ],\n        \"appearance\": 1,\n        \"personality\": \"terminator\",\n        \"remoteParty\": {\n          \"name\": \"CQX Q1  -  POUYA SHAHRDAMI\",\n          \"privacyEnabled\": false,\n          \"number\": \"+19059227700\",\n          \"callType\": \"external\"\n        },\n        \"muteCapable\": false,\n        \"state\": \"alerting\",\n        \"muted\": false,\n        \"eventTimestamp\": \"2025-08-05T17:44:52.286Z\"\n      },\n      \"resource\": \"telephony_calls\",\n      \"created\": \"2025-06-30T20:13:25.614Z\",\n      \"orgId\": \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\",\n      \"actorId\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS84OWYwOGUyYi02MDM4LTQ3MmMtYjcyYy0zNjQyNjIwMThjNjE\",\n      \"createdBy\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS84OWYwOGUyYi02MDM4LTQ3MmMtYjcyYy0zNjQyNjIwMThjNjE\",\n      \"appId\": \"Y2lzY29zcGFyazovL3VzL0FQUExJQ0FUSU9OL0MzZjU0MjYwYTQyMjhjY2NlNWY4YjM3NDVlYjYzMDA0MDYzYjVlZTgzOWRlNDE4YjMyOGFkMGMxZTA5MjAzYzgx\",\n      \"name\": \"WebexSAPROD\",\n      \"id\": \"Y2lzY29zcGFyazovL3VzL1dFQkhPT0svN2QyMTBjMjUtYWJmZi00MjAxLWE0OGMtMjI3ZDRkNWY3OTI1\",\n      \"event\": \"updated\",\n      \"targetUrl\": \"https://f8c2wc8446.execute-api.us-east-1.amazonaws.com/telephony\",\n      \"ownedBy\": \"creator\",\n      \"status\": \"active\"\n    },\n    {\n      \"data\": {\n        \"callId\": \"Y2lzY29zcGFyazovL3VzL0NBTEwvY2FsbGhhbGYtOTYwNjg4MjIxNjow\",\n        \"disconnected\": \"2025-08-05T17:44:54.524Z\",\n        \"personality\": \"terminator\",\n        \"created\": \"2025-08-05T17:44:52.284Z\",\n        \"remoteParty\": {\n          \"name\": \"POUYA SHAHRDAMI\",\n          \"privacyEnabled\": false,\n          \"number\": \"+19059227700\",\n          \"callType\": \"external\"\n        },\n        \"muteCapable\": false,\n        \"eventType\": \"disconnected\",\n        \"state\": \"disconnected\",\n        \"callSessionId\": \"ZWM1NmY0MDUtODU3My00MDkzLThkOTAtMjY2OWZmMjRjM2Iz\",\n        \"muted\": false,\n        \"eventTimestamp\": \"2025-08-05T17:44:54.524Z\",\n        \"completedElsewhere\": true\n      },\n      \"resource\": \"telephony_calls\",\n      \"created\": \"2025-06-30T20:13:25.614Z\",\n      \"orgId\": \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\",\n      \"actorId\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS84OWYwOGUyYi02MDM4LTQ3MmMtYjcyYy0zNjQyNjIwMThjNjE\",\n      \"createdBy\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS84OWYwOGUyYi02MDM4LTQ3MmMtYjcyYy0zNjQyNjIwMThjNjE\",\n      \"appId\": \"Y2lzY29zcGFyazovL3VzL0FQUExJQ0FUSU9OL0MzZjU0MjYwYTQyMjhjY2NlNWY4YjM3NDVlYjYzMDA0MDYzYjVlZTgzOWRlNDE4YjMyOGFkMGMxZTA5MjAzYzgx\",\n      \"name\": \"WebexSAPROD\",\n      \"id\": \"Y2lzY29zcGFyazovL3VzL1dFQkhPT0svN2QyMTBjMjUtYWJmZi00MjAxLWE0OGMtMjI3ZDRkNWY3OTI1\",\n      \"event\": \"deleted\",\n      \"targetUrl\": \"https://f8c2wc8446.execute-api.us-east-1.amazonaws.com/telephony\",\n      \"ownedBy\": \"creator\",\n      \"status\": \"active\"\n    }\n  ],\n  \"Dead\": true,\n  \"QueueCall\": true,\n  \"SortKey\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS84OWYwOGUyYi02MDM4LTQ3MmMtYjcyYy0zNjQyNjIwMThjNjE#ZWM1NmY0MDUtODU3My00MDkzLThkOTAtMjY2OWZmMjRjM2Iz\",\n  \"CallType\": \"external\",\n  \"CallStatus\": \"disconnected\",\n  \"PartnerNumber\": \"+19059227700\",\n  \"Partner\": \"POUYA SHAHRDAMI\",\n  \"Queue\": \"CQX Q1\",\n  \"CallVersion\": 2,\n  \"DidRing\": true,\n  \"PartitionKey\": \"HookCalls#Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\",\n  \"DateCreated\": \"2025-08-05T17:44:54.524Z\"\n}\n</code></pre>"},{"location":"webhooks/calls/abandoned_queue_call/#flow","title":"Flow","text":"<ol> <li>Call enters the queue.</li> <li>Caller hangs up before being connected to an agent.</li> <li>The <code>abandoned_queue_call</code> hook is triggered.</li> </ol>"},{"location":"webhooks/calls/answered/","title":"Answered Call","text":"<p>This hook is triggered when a call is answered by an agent.</p>"},{"location":"webhooks/calls/answered/#example-payload","title":"Example Payload","text":"<pre><code>{\n  \"TalkTime\": 0,\n  \"CallDir\": \"inbound\",\n  \"TotalDuration\": 1880,\n  \"RingTime\": 1880,\n  \"Answered\": true,\n  \"Events\": [\n    {\n      \"data\": {\n        \"callId\": \"Y2lzY29zcGFyazovL3VzL0NBTEwvY2FsbGhhbGYtOTYwNTQyMDI5NDow\",\n        \"appearance\": 1,\n        \"personality\": \"terminator\",\n        \"created\": \"2025-08-05T16:48:19.359Z\",\n        \"remoteParty\": {\n          \"name\": \"POUYA SHAHRDAMI\",\n          \"privacyEnabled\": false,\n          \"number\": \"+19059227700\",\n          \"callType\": \"external\"\n        },\n        \"muteCapable\": false,\n        \"eventType\": \"received\",\n        \"state\": \"alerting\",\n        \"callSessionId\": \"ZmEzMmU1MzQtYzNhMi00NjVkLWJjZTgtNTI1OWZlODlmNWZi\",\n        \"muted\": false,\n        \"eventTimestamp\": \"2025-08-05T16:48:19.360Z\",\n        \"completedElsewhere\": false\n      },\n      \"resource\": \"telephony_calls\",\n      \"created\": \"2025-07-01T13:31:06.813Z\",\n      \"orgId\": \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\",\n      \"actorId\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9hODA4YmVmYS05MTM4LTQ2MWMtYjlhZi0zOTJjNzg0ZTBjMWE\",\n      \"createdBy\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9hODA4YmVmYS05MTM4LTQ2MWMtYjlhZi0zOTJjNzg0ZTBjMWE\",\n      \"appId\": \"Y2lzY29zcGFyazovL3VzL0FQUExJQ0FUSU9OL0MzZjU0MjYwYTQyMjhjY2NlNWY4YjM3NDVlYjYzMDA0MDYzYjVlZTgzOWRlNDE4YjMyOGFkMGMxZTA5MjAzYzgx\",\n      \"name\": \"WebexSAPROD\",\n      \"id\": \"Y2lzY29zcGFyazovL3VzL1dFQkhPT0svYTkzZDliMTItM2YyNC00YzM1LTljYWYtMjFmMjMzZGUyMzNj\",\n      \"event\": \"created\",\n      \"targetUrl\": \"https://f8c2wc8446.execute-api.us-east-1.amazonaws.com/telephony\",\n      \"ownedBy\": \"creator\",\n      \"status\": \"active\"\n    },\n    {\n      \"data\": {\n        \"callId\": \"Y2lzY29zcGFyazovL3VzL0NBTEwvY2FsbGhhbGYtOTYwNTQyMDI5NDow\",\n        \"endpointType\": \"APPLICATION\",\n        \"created\": \"2025-08-05T16:48:19.359Z\",\n        \"endpointId\": \"Y2lzY29zcGFyazovL3VzL0FQUExJQ0FUSU9OLzAzNWVlYTFlLTY4ZmEtNDkyNS1iNWM2LWM2MzUwZmUwMzA3OA\",\n        \"eventType\": \"updated\",\n        \"callSessionId\": \"ZmEzMmU1MzQtYzNhMi00NjVkLWJjZTgtNTI1OWZlODlmNWZi\",\n        \"completedElsewhere\": false,\n        \"appearance\": 1,\n        \"personality\": \"terminator\",\n        \"remoteParty\": {\n          \"name\": \"POUYA SHAHRDAMI\",\n          \"privacyEnabled\": false,\n          \"number\": \"+19059227700\",\n          \"callType\": \"external\"\n        },\n        \"muteCapable\": false,\n        \"state\": \"alerting\",\n        \"muted\": false,\n        \"eventTimestamp\": \"2025-08-05T16:48:19.360Z\"\n      },\n      \"resource\": \"telephony_calls\",\n      \"created\": \"2025-07-01T13:31:06.813Z\",\n      \"orgId\": \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\",\n      \"actorId\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9hODA4YmVmYS05MTM4LTQ2MWMtYjlhZi0zOTJjNzg0ZTBjMWE\",\n      \"createdBy\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9hODA4YmVmYS05MTM4LTQ2MWMtYjlhZi0zOTJjNzg0ZTBjMWE\",\n      \"appId\": \"Y2lzY29zcGFyazovL3VzL0FQUExJQ0FUSU9OL0MzZjU0MjYwYTQyMjhjY2NlNWY4YjM3NDVlYjYzMDA0MDYzYjVlZTgzOWRlNDE4YjMyOGFkMGMxZTA5MjAzYzgx\",\n      \"name\": \"WebexSAPROD\",\n      \"id\": \"Y2lzY29zcGFyazovL3VzL1dFQkhPT0svYTkzZDliMTItM2YyNC00YzM1LTljYWYtMjFmMjMzZGUyMzNj\",\n      \"event\": \"updated\",\n      \"targetUrl\": \"https://f8c2wc8446.execute-api.us-east-1.amazonaws.com/telephony\",\n      \"ownedBy\": \"creator\",\n      \"status\": \"active\"\n    },\n    {\n      \"data\": {\n        \"callId\": \"Y2lzY29zcGFyazovL3VzL0NBTEwvY2FsbGhhbGYtOTYwNTQyMDI5NDow\",\n        \"endpointType\": \"APPLICATION\",\n        \"answered\": \"2025-08-05T16:48:21.154Z\",\n        \"created\": \"2025-08-05T16:48:19.359Z\",\n        \"endpointId\": \"Y2lzY29zcGFyazovL3VzL0FQUExJQ0FUSU9OLzAzNWVlYTFlLTY4ZmEtNDkyNS1iNWM2LWM2MzUwZmUwMzA3OA\",\n        \"eventType\": \"answered\",\n        \"callSessionId\": \"ZmEzMmU1MzQtYzNhMi00NjVkLWJjZTgtNTI1OWZlODlmNWZi\",\n        \"completedElsewhere\": false,\n        \"appearance\": 1,\n        \"personality\": \"terminator\",\n        \"remoteParty\": {\n          \"name\": \"POUYA SHAHRDAMI\",\n          \"privacyEnabled\": false,\n          \"number\": \"+19059227700\",\n          \"callType\": \"external\"\n        },\n        \"muteCapable\": true,\n        \"state\": \"connected\",\n        \"muted\": false,\n        \"eventTimestamp\": \"2025-08-05T16:48:21.240Z\"\n      },\n      \"resource\": \"telephony_calls\",\n      \"created\": \"2025-07-01T13:31:06.813Z\",\n      \"orgId\": \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\",\n      \"actorId\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9hODA4YmVmYS05MTM4LTQ2MWMtYjlhZi0zOTJjNzg0ZTBjMWE\",\n      \"createdBy\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9hODA4YmVmYS05MTM4LTQ2MWMtYjlhZi0zOTJjNzg0ZTBjMWE\",\n      \"appId\": \"Y2lzY29zcGFyazovL3VzL0FQUExJQ0FUSU9OL0MzZjU0MjYwYTQyMjhjY2NlNWY4YjM3NDVlYjYzMDA0MDYzYjVlZTgzOWRlNDE4YjMyOGFkMGMxZTA5MjAzYzgx\",\n      \"name\": \"WebexSAPROD\",\n      \"id\": \"Y2lzY29zcGFyazovL3VzL1dFQkhPT0svYTkzZDliMTItM2YyNC00YzM1LTljYWYtMjFmMjMzZGUyMzNj\",\n      \"event\": \"updated\",\n      \"targetUrl\": \"https://f8c2wc8446.execute-api.us-east-1.amazonaws.com/telephony\",\n      \"ownedBy\": \"creator\",\n      \"status\": \"active\"\n    }\n  ],\n  \"Dead\": false,\n  \"QueueCall\": false,\n  \"SortKey\": \"Y2lzY29zcGFyazovL3VzL1BFT1BMRS9hODA4YmVmYS05MTM4LTQ2MWMtYjlhZi0zOTJjNzg0ZTBjMWE#ZmEzMmU1MzQtYzNhMi00NjVkLWJjZTgtNTI1OWZlODlmNWZi\",\n  \"CallType\": \"external\",\n  \"CallStatus\": \"connected\",\n  \"PartnerNumber\": \"+19059227700\",\n  \"Partner\": \"POUYA SHAHRDAMI\",\n  \"Queue\": \"\",\n  \"CallVersion\": 2,\n  \"DidRing\": true,\n  \"PartitionKey\": \"HookCalls#Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi8xNzExMTdkNi04YjgyLTQ0Y2EtOThlOS1hYzExNTdmMmNkMWQ\",\n  \"DateCreated\": \"2025-08-05T16:48:21.240Z\"\n}\n</code></pre>"},{"location":"webhooks/calls/answered/#flow","title":"Flow","text":"<ol> <li>Call enters the queue.</li> <li>An agent becomes available.</li> <li>The call is connected to the agent.</li> <li>The <code>answered_call</code> hook is triggered.</li> </ol>"}]}